{
  "name": "damolinx-sorbetto",
  "displayName": "Sorbetto for VS Code",
  "description": "Sorbetto provides Ruby Language features using the official Sorbet.",
  "author": "damolinx",
  "publisher": "damolinx",
  "license": "Apache-2.0",
  "version": "0.1.0",
  "icon": "icon.png",
  "repository": {
    "type": "git",
    "url": "https://github.com/sorbet/sorbet"
  },
  "engines": {
    "vscode": "^1.77.0"
  },
  "categories": [
    "Programming Languages"
  ],
  "keywords": [
    "ruby",
    "sorbet",
    "language-server"
  ],
  "activationEvents": [
    "onLanguage:ruby",
    "workspaceContains:sorbet/*"
  ],
  "languages": [
    {
      "id": "ruby",
      "extensions": [
        ".rb",
        ".rbi",
        ".srb"
      ],
      "aliases": [
        "Ruby"
      ]
    }
  ],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "sorbet.configure",
        "title": "Configure",
        "category": "Sorbet"
      },
      {
        "command": "sorbet.configureHighlightUntyped",
        "title": "Configure untyped code highlighting",
        "category": "Sorbet",
        "enablement": "workbenchState != empty"
      },
      {
        "command": "sorbet.copySymbolToClipboard",
        "title": "Copy Symbol to Clipboard",
        "category": "Sorbet",
        "enablement": "editorLangId == ruby && !editorHasSelection && (resourceScheme == file || resourceScheme == sorbet || resourceScheme == vscode-remote)"
      },
      {
        "command": "sorbet.disable",
        "title": "Disable",
        "category": "Sorbet"
      },
      {
        "command": "sorbet.enable",
        "title": "Enable",
        "category": "Sorbet"
      },
      {
        "command": "sorbet.restart",
        "title": "Restart",
        "category": "Sorbet"
      },
      {
        "command": "sorbet.showOutput",
        "title": "Show Output",
        "category": "Sorbet"
      },
      {
        "command": "sorbet.toggleHighlightUntyped",
        "title": "Toggle highlighting untyped code",
        "category": "Sorbet",
        "enablement": "workbenchState != empty"
      },
      {
        "command": "sorbet.toggleTypedFalseCompletionNudges",
        "title": "Toggle the auto-complete nudge in `typed: false` files",
        "category": "Sorbet",
        "enablement": "workbenchState != empty"
      }
    ],
    "configuration": {
      "title": "Sorbet",
      "properties": {
        "sorbet.enabled": {
          "description": "Enable Sorbet Ruby IDE features",
          "type": "boolean"
        },
        "sorbet.selectedLspConfigId": {
          "markdownDescription": "The default configuration to use from `sorbet.userLspConfigs` or `sorbet.lspConfigs`.  If unset, defaults to the first item in `sorbet.userLspConfigs` or `sorbet.lspConfigs`.",
          "type": "string"
        },
        "sorbet.lspConfigs": {
          "markdownDescription": "Standard Ruby LSP configurations.  If you commit your VSCode settings to source control, you probably want to commit *this* setting, not `sorbet.userLspConfigs`.",
          "type": "array",
          "default": [
            {
              "id": "stable",
              "name": "Sorbet",
              "description": "Stable Sorbet Ruby IDE features",
              "command": [
                "bundle",
                "exec",
                "srb",
                "typecheck",
                "--lsp"
              ]
            },
            {
              "id": "beta",
              "name": "Sorbet (Beta)",
              "description": "Beta Sorbet Ruby IDE features",
              "command": [
                "bundle",
                "exec",
                "srb",
                "typecheck",
                "--lsp",
                "--enable-all-beta-lsp-features"
              ]
            },
            {
              "id": "experimental",
              "name": "Sorbet (Experimental)",
              "description": "Experimental Sorbet Ruby IDE features (warning: crashy, for developers only)",
              "command": [
                "bundle",
                "exec",
                "srb",
                "typecheck",
                "--lsp",
                "--enable-all-experimental-lsp-features"
              ]
            }
          ],
          "items": {
            "type": "object",
            "required": [
              "id",
              "description",
              "command"
            ],
            "properties": {
              "id": {
                "description": "See `sorbet.selectedLspConfigId`",
                "type": "string"
              },
              "name": {
                "description": "Short-form human-readable label for configuration",
                "type": "string"
              },
              "description": {
                "description": "Long-form human-readable description of configuration",
                "type": "string"
              },
              "cwd": {
                "description": "Current working directory when launching Sorbet. *DEPRECATED*: Property has never been used",
                "type": "string",
                "format": "uri-reference",
                "default": "${workspaceFolder}",
                "deprecated": true
              },
              "command": {
                "description": "Full command line to invoke sorbet",
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "string"
                }
              }
            }
          }
        },
        "sorbet.userLspConfigs": {
          "markdownDescription": "Custom user LSP configurations that supplement `sorbet.lspConfigs` (and override configurations with the same id).  If you commit your VSCode settings to source control, you probably want to commit `sorbet.lspConfigs`, not this value.",
          "type": "array",
          "default": [],
          "items": {
            "type": "object",
            "required": [
              "id",
              "description",
              "command"
            ],
            "properties": {
              "id": {
                "description": "See `sorbet.selectedLspConfigId`",
                "type": "string"
              },
              "name": {
                "description": "Short-form human-readable label for configuration",
                "type": "string"
              },
              "description": {
                "description": "Long-form human-readable description of configuration",
                "type": "string"
              },
              "cwd": {
                "description": "Current working directory when launching Sorbet. *DEPRECATED*: Property has never been used",
                "type": "string",
                "format": "uri-reference",
                "default": "${workspaceFolder}",
                "deprecated": true
              },
              "env": {
                "description": "Environment variables to set when launching sorbet",
                "type": "object",
                "minItems": 1,
                "additionalProperties": {
                  "type": "string"
                },
                "default": {}
              },
              "command": {
                "description": "Full command line to invoke sorbet",
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "string"
                }
              }
            },
            "default": {
              "id": "my-custom-configuration",
              "name": "My Custom Sorbet Configuration",
              "description": "A longer description of this Sorbet Configuration for use in hover text",
              "env": {
                "MY_ENV_VAR": "my-value"
              },
              "command": [
                "bundle",
                "exec",
                "srb",
                "typecheck",
                "--your",
                "--flags",
                "--here"
              ]
            }
          }
        },
        "sorbet.revealOutputOnError": {
          "type": "boolean",
          "description": "Show the extension output window on errors.",
          "default": false
        },
        "sorbet.highlightUntyped": {
          "enum": [
            "nowhere",
            "everywhere-but-tests",
            "everywhere"
          ],
          "description": "Shows warning for untyped values.",
          "default": "nowhere"
        },
        "sorbet.typedFalseCompletionNudges": {
          "type": "boolean",
          "description": "Displays an auto-complete nudge in `typed: false` files.",
          "default": true
        },
        "sorbet.configFilePatterns": {
          "type": "array",
          "description": "List of workspace file patterns that contribute to Sorbet's configuration.  Changes to any of those files should trigger a restart of any actively running Sorbet language server.",
          "items": {
            "type": "string"
          },
          "default": [
            "**/sorbet/config",
            "**/Gemfile.lock"
          ]
        }
      }
    },
    "configurationDefaults": {
      "[ruby]": {
        "editor.formatOnSave": true
      }
    },
    "menus": {
      "editor/context": [
        {
          "when": "resourceLangId == ruby",
          "command": "sorbet.copySymbolToClipboard",
          "group": "9_cutcopypaste"
        }
      ]
    }
  },
  "scripts": {
    "vscode:prepublish": "node esbuild.mjs",
    "compile": "npm run check-types && node esbuild.mjs",
    "check-types": "tsc --noEmit",
    "lint": "eslint \"src/**/*.ts\" --fix",
    "watch": "tsc -w -p ./",
    "pretest": "npm run compile",
    "test": "node ./out/test/runTest.js"
  },
  "dependencies": {
    "vscode-languageclient": "^9.0.1"
  },
  "devDependencies": {
    "@eslint/js": "^9.13.0",
    "@stylistic/eslint-plugin": "^4.1.0",
    "@types/glob": "^7.1.1",
    "@types/mocha": "^10.0.0",
    "@types/node": "^20.14.10",
    "@types/sinon": "^7.5.0",
    "@types/vscode": "~1.77",
    "@typescript-eslint/eslint-plugin": "^8.25.0",
    "@typescript-eslint/parser": "^8.25.0",
    "@vscode/test-electron": "^2.4.1",
    "@vscode/vsce": "^2.20.0",
    "esbuild": "^0.25.0",
    "eslint": "^9.6.0",
    "glob": "^11.0.0",
    "mocha": "^11.0.0",
    "prettier": "^1.19.1",
    "sinon": "^7.5.0",
    "typescript": "^5.7.2",
    "typescript-eslint": "^8.25.0",
    "vscode-languageserver": "^9.0.1"
  }
}
