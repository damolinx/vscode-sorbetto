{
  "scopeName": "rbs.sig.comment",
  "injectionSelector": "L:source.ruby",
  "patterns": [
    {
      "include": "#sig-comment"
    },
    {
      "include": "#sorbet-annotations"
    }
  ],
  "repository": {
    "rbs-identifiers": {
      "patterns": [
        {
          "match": "(?<!@)\\b[a-z_][A-Za-z0-9_]*\\b",
          "name": "variable.other.rbs"
        }
      ]
    },
    "rbs-invalid": {
      "patterns": [
        {
          "match": "\\b(attr_reader|class|def|end|extend|include|interface|module|prepend)\\b",
          "name": "invalid.illegal.unsupported.declarations.sorbet"
        },
        {
          "match": "\\b(private|protected|public)\\b",
          "name": "invalid.illegal.unsupported.modifiers.sorbet"
        },
        {
          "match": "\\b(do|else|elsif|if|return|until|while|yield)\\b",
          "name": "invalid.illegal.unsupported.sorbet"
        }
      ]
    },
    "rbs-keywords": {
      "patterns": [
        {
          "match": "\\b(alias|type)\\b",
          "name": "keyword.control.rbs"
        }
      ]
    },
    "rbs-op-modifiers": {
      "patterns": [
        {
          "match": "\\*",
          "name": "keyword.operator.splat.rbs"
        },
        {
          "match": "\\?",
          "name": "keyword.operator.optional.rbs"
        }
      ]
    },
    "rbs-op-return": {
      "patterns": [
        {
          "match": "->",
          "name": "keyword.operator.return-type.rbs"
        }
      ]
    },
    "rbs-op-union-intersection": {
      "patterns": [
        {
          "match": "&",
          "name": "keyword.operator.intersection.rbs"
        },
        {
          "match": "\\|",
          "name": "keyword.operator.union.rbs"
        }
      ]
    },
    "rbs-punctuation": {
      "patterns": [
        {
          "match": ",",
          "name": "punctuation.separator.comma.rbs"
        },
        {
          "match": ":",
          "name": "punctuation.separator.key-value.rbs"
        },
        {
          "match": "\\(|\\)",
          "name": "punctuation.section.parens.rbs"
        },
        {
          "match": "\\{|\\}",
          "name": "punctuation.section.braces.rbs"
        },
        {
          "match": "\\[|\\]",
          "name": "punctuation.section.brackets.rbs"
        }
      ]
    },
    "rbs-records": {
      "begin": "\\{",
      "beginCaptures": {
        "0": {
          "name": "punctuation.section.braces.rbs"
        }
      },
      "end": "\\}",
      "endCaptures": {
        "0": {
          "name": "punctuation.section.braces.rbs"
        }
      },
      "name": "meta.type.record.rbs",
      "patterns": [
        {
          "match": "\\b[a-z_][A-Za-z0-9_]*(?=:)\\b",
          "name": "variable.other.property.rbs"
        },
        {
          "include": "#rbs-identifiers"
        },
        {
          "include": "#rbs-keywords"
        },
        {
          "include": "#rbs-op-modifiers"
        },
        {
          "include": "#rbs-op-union-intersection"
        },
        {
          "include": "#rbs-punctuation"
        },
        {
          "include": "#rbs-type-builtin"
        },
        {
          "include": "#rbs-type-const"
        }
      ]
    },
    "rbs-strings": {
      "patterns": [
        {
          "begin": "\"",
          "end": "\"|$",
          "name": "string.quoted.double.rbs",
          "patterns": [
            {
              "match": "\\\\.",
              "name": "constant.character.escape.rbs"
            }
          ]
        },
        {
          "begin": "'",
          "end": "'|$",
          "name": "string.quoted.single.rbs",
          "patterns": [
            {
              "match": "\\\\.",
              "name": "constant.character.escape.rbs"
            }
          ]
        }
      ]
    },
    "rbs-tuples": {
      "begin": "\\(",
      "beginCaptures": {
        "0": {
          "name": "punctuation.section.parens.rbs"
        }
      },
      "end": "\\)",
      "endCaptures": {
        "0": {
          "name": "punctuation.section.parens.rbs"
        }
      },
      "name": "meta.type.tuple.rbs",
      "patterns": [
        {
          "include": "#rbs-identifiers"
        },
        {
          "include": "#rbs-keywords"
        },
        {
          "include": "#rbs-op-modifiers"
        },
        {
          "include": "#rbs-op-union-intersection"
        },
        {
          "include": "#rbs-punctuation"
        },
        {
          "include": "#rbs-type-builtin"
        },
        {
          "include": "#rbs-type-const"
        }
      ]
    },
    "rbs-type-builtin": {
      "patterns": [
        {
          "match": "\\b(any|bool|nil|self|untyped|void)\\b",
          "name": "support.type.builtin.rbs"
        }
      ]
    },
    "rbs-type-const": {
      "patterns": [
        {
          "match": "\\b[A-Z][A-Za-z0-9_]*(?:::[A-Z][A-Za-z0-9_]*)*\\b",
          "name": "entity.name.type.rbs"
        }
      ]
    },
    "sorbet-annotations": {
      "patterns": [
        {
          "match": "(?<=#\\s)@\\b(abstract|final|interface|requires_ancestor|sealed)\\b",
          "name": "storage.modifier.annotation.sorbet"
        },
        {
          "match": "(?<=#\\s)@override(\\([^)]*\\))?",
          "name": "storage.modifier.annotation.sorbet"
        }
      ]
    },
    "sig-comment": {
      "begin": "(?<!\\S)#:",
      "beginCaptures": {
        "0": {
          "name": "comment.line.sig.rbs"
        }
      },
      "end": "^(?!\\s*#\\|)",
      "name": "meta.sig.rbs",
      "patterns": [
        {
          "include": "#rbs-invalid"
        },
        {
          "include": "#rbs-identifiers"
        },
        {
          "include": "#rbs-keywords"
        },
        {
          "include": "#rbs-op-modifiers"
        },
        {
          "include": "#rbs-op-return"
        },
        {
          "include": "#rbs-op-union-intersection"
        },
        {
          "include": "#rbs-punctuation"
        },
        {
          "include": "#rbs-records"
        },
        {
          "include": "#rbs-records"
        },
        {
          "include": "#rbs-strings"
        },
        {
          "include": "#rbs-type-builtin"
        },
        {
          "include": "#rbs-type-const"
        },
        {
          "include": "#sig-continuation"
        }
      ]
    },
    "sig-continuation": {
      "match": "(?<!\\S)#\\|",
      "name": "comment.line.sig.rbs"
    }
  }
}